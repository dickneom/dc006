extends ../layout
include ../mixins

block content
	if sessionUser
		if (sessionUser.nickname)
			+menu(sessionUser.nickname)
		else
			+menu(sessionUser.fullname)
	else
		+menu(null)

	.container
		h1 Editar Vestido
		.row
			.col-sm-9
				.row
					if (dress)
						.col-sm-4
							form(method='post' action='/dresses/load_image' enctype='multipart/form-data')
								+input('ID vestido', 'text', 'id', dress.id, null)
								br
								img(src=imageUrl width=150 height=200 alt='Vestido')
								input(type='file'  name='image')
								button(type='submit') Subir imagen

						.col-sm-8
							form(method='post' action='/dresses')
								+input('ID vestido', 'text', 'id', dress.id, null)
								br
								+input_required('Titulo', 'text', 'title', dress.title, null)
								br
								+input_required('Descripcion', 'text', 'description', dress.description, null)
								br
								label(for='brandId') Marca
								select(name='brandId')
									option('selected' 'disabled') - Seleccione una -
										each brand in brands
											option(selected=(brand.id==dress.brandId) value=brand.id)= brand.title
								br
								label(for='colorId') Color
								select(name='colorId')
									option('selected' 'disabled') - Seleccione uno -
										each color in colors
											option(selected=(color.id==dress.colorId) value=color.id)= color.color
								br
								+input('Estado', 'text', 'stateId', dress.stateId, null)
								br
								+input_required('Precio', 'text', 'price', dress.price, null)
								br
								+input('ID propietario', 'text', 'userId', dress.user.id, null)
								br
								button(type='submit') Grabar

					else
						form(method='post' action='/dresses' enctype='multipart/form-data')
							.col-md-4
								img(src='' width=150 height=200 alt='Vestido')
								input(type='file'  name='image')
							.col-md-8
								+input('ID vestido', 'text', 'id', '', null)
								br
								+input_required('Titulo', 'text', 'title', null, null)
								br
								+input('Marca', 'text', 'brand', null, null)
								br
								select(name='brandId')
									option('disabled') - Seleccione una -
									each brand in brands
										option(value=brand.id)= brand
								br
								+input('Estado', 'text', 'stateId', 1, null)
								br
								+input_required('Precio', 'text', 'price', null, null)
								br
								+input_required('Descripcion', 'text', 'description', null, null)
								br
								+input('ID propietario', 'text', 'userId', dress.user.id, null)
								br
								button(type='submit') Grabar

			.col-sm-3
				p Publicidad

	+foot


//-		Muestra un formulario para la edicion de los datos de un vestido
//-		Requiere:
//-			pageTitle
//-			pageName
//-			sessionUser
//-			dress
//-			errors
//-			brands:	Arreglo con las marcas aceptadas
